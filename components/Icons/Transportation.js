import { useEffect, useRef, useState, useId } from 'react';
import cx from 'clsx';
import LinearGradient from './animations';
import { circleProps as cProps, lineProps as lProps } from './animations';
// import KUTE from 'kute.js';

export function Transportation2({ isReady = true }) {
  const [isMounted, setIsMounted] = useState(false);

  const config = {
    11: {
      delay: '1.4s',
    },
    22: {
      delay: '1.4s',
    },
  };

  const circleProps = (id) => {
    const delay = config[id]?.delay || 0;

    const isActive = isMounted && isReady;

    return {
      className: cx('svg-circle', isActive && 'active'),
      style: {
        '--anim-delay': delay,
      },
    };
  };

  const lineProps = (id, options) => {
    let {
      k = 200,
      array,
      offset,
      to,
      delay = 0,
      duration = '2s',
    } = options || {};

    return {
      className: cx('svg-line-anim', isReady && 'ready'),
      style: {
        '--dash-array': array || k,
        '--dash-offset': offset || k * 1.25,
        '--dash-to': to || k * 2,
        '--anim-delay': delay,
        '--anim-duration': duration,
      },
    };
  };

  useEffect(() => {
    setIsMounted(true);
  }, []);

  return (
    <svg
      className="run-animation"
      width="146"
      height="137"
      viewBox="0 0 146 137"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <circle cx="72.6719" cy="68.4795" r="62" stroke="#E4E4E4" />

      <path
        d="M17.9379 97.856C21.8888 104.163 31.4063 107.079 44.3966 105.962C57.387 104.845 72.786 99.7869 87.2063 91.9001C101.626 84.0134 113.887 73.9442 121.29 63.9077C128.692 53.8711 130.632 44.6893 126.681 38.3822"
        stroke="#E4E4E4"
      />
      <path
        d="M116.388 112.402C121.618 107.172 122.033 97.5575 117.543 85.672C113.053 73.7866 104.025 60.6042 92.4459 49.025C80.8666 37.4457 67.6843 28.4181 55.7988 23.928C43.9133 19.4379 34.2984 19.8533 29.069 25.0826"
        stroke="#E4E4E4"
      />
      <path
        d="M76.3133 97.2443C84.3332 93.7464 92.1383 89.4003 99.2046 84.4979C106.271 79.5956 112.435 74.2502 117.283 68.8206C122.131 63.3911 125.551 58.0029 127.314 53.0178C129.076 48.0326 129.14 43.5659 127.501 39.9172C125.863 36.2686 122.559 33.5225 117.813 31.8633C113.066 30.2041 106.986 29.6702 99.9814 30.2973C92.9764 30.9244 85.2082 32.6981 77.1982 35.4993C69.1883 38.3005 61.1218 42.0645 53.5402 46.5385"
        stroke="#E4E4E4"
      ></path>
      <path
        d="M10.7782 72.3537C11.4336 76.1531 13.6929 79.189 17.4012 81.253C21.1094 83.3171 26.1788 84.3605 32.2615 84.3116C38.3443 84.2627 45.2964 83.1227 52.6408 80.9698C59.9852 78.8169 67.5481 75.702 74.8106 71.839"
        stroke="#E4E4E4"
      ></path>
      <path
        {...lineProps(5, {
          array: 400,
          offset: 400,
          to: 325,
          delay: '1.4s',
          // duration: '5s',
        })}
        d="M10.7782 72.3537C11.4336 76.1531 13.6929 79.189 17.4012 81.253C21.1094 83.3171 26.1788 84.3605 32.2615 84.3116C38.3443 84.2627 45.2964 83.1227 52.6408 80.9698C59.9852 78.8169 67.5481 75.702 74.8106 71.839"
        stroke="#19191B"
      />
      <path
        d="M34.8978 117.552C38.1189 120.133 42.8853 121.657 48.8476 122.013C54.8098 122.368 61.8168 121.547 69.3548 119.608C76.8928 117.669 84.7707 114.662 92.4111 110.808C100.051 106.953 107.26 102.349 113.51 97.3321C119.759 92.3153 124.89 87.0134 128.526 81.8151C132.163 76.6167 134.213 71.6537 134.526 67.2898C134.839 62.9259 133.408 59.2718 130.336 56.5954C127.265 53.9189 122.631 52.288 116.775 51.8222"
        stroke="#E4E4E4"
      />
      {/** 1 */}
      <path
        {...lineProps(1, { k: 200 })}
        d="M98.0798 55.2895C87.4155 43.1132 74.4307 32.9027 61.982 26.9044C49.5332 20.906 38.6401 19.6111 31.6992 23.3044C24.7582 26.9978 22.3379 35.3769 24.9707 46.5985C27.6035 57.82 35.0738 70.9648 45.738 83.1412"
        stroke="currentColor"
      />
      <circle
        {...circleProps(1)}
        cx="45.6719"
        cy="82.4795"
        r="3"
        fill="currentColor"
      />
      <circle
        {...circleProps(11)}
        cx="97.6719"
        cy="54.4795"
        r="3"
        fill="currentColor"
      />
      {/** 2 */}

      <path
        {...lineProps(2, {
          array: 200,
          offset: 600,
          to: 440,
        })}
        d="M76.3133 97.2443C84.3332 93.7464 92.1383 89.4003 99.2046 84.4979C106.271 79.5956 112.435 74.2502 117.283 68.8206C122.131 63.3911 125.551 58.0029 127.314 53.0178C129.076 48.0326 129.14 43.5659 127.501 39.9172C125.863 36.2686 122.559 33.5225 117.813 31.8633C113.066 30.2041 106.986 29.6702 99.9814 30.2973C92.9764 30.9244 85.2082 32.6981 77.1982 35.4993C69.1883 38.3005 61.1218 42.0645 53.5402 46.5385"
        stroke="#19191B"
      />
      <circle
        {...circleProps(2)}
        cx="75.6719"
        cy="97.4795"
        r="3"
        fill="black"
      />
      <circle
        {...circleProps(22)}
        cx="53.6719"
        cy="46.4795"
        r="3"
        fill="#19191B"
      />

      {/** 3 */}
      <path
        {...lineProps(3, {
          array: 600,
          offset: 600,
          to: 375,
        })}
        d="M134.672 68.4795C134.672 59.1908 132.585 50.0208 128.565 41.6471C124.545 33.2734 118.695 25.9099 111.447 20.1007C104.199 14.2916 95.7382 10.1852 86.6901 8.08504C77.6419 5.98487 68.2376 5.94457 59.1717 7.96712C50.1059 9.98968 41.6104 14.0234 34.313 19.7702C27.0155 25.5171 21.1025 32.8301 17.0109 41.1691C12.9193 49.5081 10.7538 58.6598 10.6742 67.9482C10.5945 77.2365 12.603 86.424 16.551 94.8319"
        stroke="#19191B"
      />
      <circle
        {...circleProps(33)}
        cx="134.672"
        cy="67.4795"
        r="3"
        fill="#19191B"
      />

      {/* <circle cx="75.6719" cy="97.4795" r="3" fill="#19191B" /> */}
    </svg>
  );
}

export default function Transition() {
  return (
    <svg
      width="146"
      height="138"
      viewBox="0 0 146 138"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M11.1064 72.8742C11.7617 76.6736 14.021 79.7095 17.7293 81.7735C21.4375 83.8376 26.5069 84.881 32.5897 84.8321C38.6724 84.7832 45.6245 83.6432 52.9689 81.4903C60.3133 79.3374 67.8762 76.2225 75.1387 72.3595"
        stroke="#19191B"
      />
      <circle cx="47" cy="82" r="3" fill="#19191B" />
      <path
        d="M35.2259 118.072C38.447 120.653 43.2134 122.177 49.1757 122.533C55.138 122.889 62.1449 122.067 69.6829 120.128C77.2209 118.19 85.0989 115.183 92.7392 111.328C100.38 107.474 107.589 102.869 113.838 97.8526C120.087 92.8358 125.218 87.534 128.855 82.3356C132.491 77.1372 134.541 72.1742 134.854 67.8103C135.167 63.4464 133.736 59.7923 130.664 57.1159C127.593 54.4394 122.959 52.8085 117.103 52.3427"
        stroke="#E4E4E4"
      />
      <circle cx="73" cy="69" r="62" stroke="#E4E4E4" />
      <path
        d="M116.716 112.922C121.946 107.693 122.361 98.078 117.871 86.1925C113.381 74.3071 104.353 61.1247 92.774 49.5455C81.1947 37.9662 68.0124 28.9386 56.1269 24.4485C44.2415 19.9584 34.6265 20.3738 29.3971 25.6031"
        stroke="#E4E4E4"
      />
      <path
        d="M135 69C135 59.7113 132.913 50.5414 128.893 42.1676C124.873 33.7939 119.023 26.4304 111.775 20.6212C104.527 14.8121 96.0663 10.7057 87.0182 8.60555C77.9701 6.50538 68.5657 6.46508 59.4999 8.48763C50.4341 10.5102 41.9386 14.5439 34.6411 20.2907C27.3436 26.0376 21.4306 33.3506 17.339 41.6896C13.2475 50.0286 11.0819 59.1803 11.0023 68.4687C10.9227 77.757 12.9311 86.9445 16.8791 95.3524"
        stroke="#19191B"
      />
      <path
        d="M18.266 98.3765C22.2169 104.684 31.7344 107.599 44.7247 106.482C57.7151 105.366 73.1142 100.307 87.5344 92.4206C101.955 84.5339 114.215 74.4647 121.618 64.4282C129.021 54.3916 130.96 45.2098 127.009 38.9027"
        stroke="#E4E4E4"
      />
      <path
        d="M18.6661 98.9768C22.9856 105.08 32.8145 107.736 45.9905 106.362C59.1665 104.988 74.6103 99.6958 88.9244 91.6499C103.239 83.604 115.25 73.4633 122.318 63.4587C129.385 53.4541 130.928 44.4051 126.609 38.3024"
        stroke="#E4E4E4"
      />
      <path
        d="M76.6414 97.7648C84.6614 94.2669 92.4664 89.9209 99.5327 85.0185C106.599 80.1161 112.763 74.7707 117.611 69.3411C122.459 63.9116 125.879 58.5234 127.642 53.5383C129.404 48.5531 129.468 44.0864 127.83 40.4378C126.191 36.7891 122.887 34.0431 118.141 32.3838C113.394 30.7246 107.315 30.1907 100.31 30.8178C93.3045 31.4449 85.5363 33.2186 77.5264 36.0198C69.5164 38.821 61.4499 42.585 53.8683 47.059"
        stroke="#19191B"
      />
      <path
        d="M98.4079 55.81C87.7437 43.6337 74.7589 33.4232 62.3101 27.4249C49.8613 21.4265 38.9683 20.1316 32.0273 23.8249C25.0864 27.5183 22.6661 35.8974 25.2989 47.119C27.9317 58.3405 35.4019 71.4853 46.0662 83.6617"
        stroke="#19191B"
      />
      <circle cx="76" cy="98" r="3" fill="black" />
      <circle cx="76" cy="98" r="3" fill="#19191B" />
      <circle cx="135" cy="68" r="3" fill="#19191B" />
      <circle cx="54" cy="47" r="3" fill="#19191B" />
      <circle cx="98" cy="55" r="3" fill="#19191B" />
    </svg>
  );
}
